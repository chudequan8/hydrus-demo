(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c8b66c60","chunk-2d208356","chunk-25c18236","chunk-1676fb16","chunk-f286302a","chunk-831f9708"],{"0014":function(t,e,a){},"2c57":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticStyle:{height:"100%"}},[a("div",{staticClass:"chart-header",attrs:{slot:"header"},slot:"header"},[a("strong",{staticClass:"chart-title"},[t._v("● "+t._s(t.chartTitle))]),a("div",{staticClass:"aside-count"},[a("span",[t._v("今日调用： "+t._s(t.todayCallCount)+"次")]),a("span",[t._v("今日异常： "+t._s(t.todayErrorCount)+"次")])])]),"{}"===JSON.stringify(t.chartData)?a("div",{style:{height:t.height+"px",textAlign:"center",lineHeight:t.height+"px"}},[t._v("\n    暂无数据\n  ")]):a("v-chart",{attrs:{forceFit:!0,height:t.height,data:t.data,scale:t.scale}},[a("v-tooltip",{attrs:{htmlContent:t.htmlContent}}),a("v-axis",{attrs:{dataKey:"time",label:t.label}}),a("v-legend"),a("v-line",{attrs:{position:"time*value",size:2,color:t.color}}),a("v-area",{attrs:{position:"time*value",color:t.color}}),a("v-guide",{attrs:{type:"line",top:!0,start:t.start,end:t.end,lineStyle:t.lineStyle,text:t.text}})],1)],1)},r=[],i=(a("6762"),a("2fdb"),a("c5f6"),a("ac6a"),a("75fc")),o=a("a48e"),c=[{dataKey:"time",type:"linear",tickInterval:2,min:0,max:24}],s=["type",["rgba(201, 224, 255, 0.71)","rgba(174, 255, 221, 0.63)"]],l=Object(i["a"])(Array(24).keys()),u={name:"product-call-chart",mixins:[o["default"]],props:{chartData:{type:Object},chartTitle:{type:String}},data:function(){var t=this;return{data:[],todayCallCount:0,todayErrorCount:0,scale:c,color:s,label:{formatter:function(t){return t+"h"}},htmlContent:function(e){var a=t.data.filter((function(t){return t.time===Number(e)})),n="";return a.forEach((function(t,e){n+="<li data-index=".concat(e,' style="margin-bottom: 4px;">\n                      <span style="background-color:').concat(s[1][e],';width:8px;height:8px;border-radius:50%;display:inline-block;margin-right:8px;"></span>\n                      ').concat("今日"===t.type?"当日":"七日","成功数: ").concat(t.value," (").concat(t.rate,")\n                    </li>")})),'<div class="g2-tooltip">\n                  <ul class="g2-tooltip-list">\n                    '.concat(n,"\n                  </ul>\n                </div>")},lineStyle:{stroke:"#595959",lineWidth:1,lineDash:[3,3]},start:["0",9],end:["24",9],text:{position:"start",style:{fill:"#8c8c8c",fontSize:12,fontWeight:300},content:"均值线 5,396万",offsetY:-5}}},watch:{chartData:{immediate:!0,handler:function(t){this.initChart(t)}}},methods:{initChart:function(t){var e=this;if("{}"!==JSON.stringify(t)){this.start[1]=t.sevenDayAverageSuccessCount,this.end[1]=t.sevenDayAverageSuccessCount,this.text.content="七日平均值"+t.sevenDayAverageSuccessCount;var a=t.sevenDayOutList.map((function(t){return t.countTime})),n=t.todayOutList.map((function(t){return t.countTime}));l.forEach((function(e,r){a.includes(e)||t.sevenDayOutList.push({countTime:r,sevenDayAverageSuccessCountByHour:0,sevenDayAverageSuccessRateByHour:"0%"}),n.includes(e)||t.todayOutList.push({countTime:r,todaySuccessCount:0,todaySuccessRate:"0%"})})),this.data=[],t.todayOutList.forEach((function(t){e.data.push({type:"今日",time:t.countTime,value:t.todaySuccessCount,rate:t.todaySuccessRate})})),t.sevenDayOutList.forEach((function(t){e.data.push({type:"七日平均",time:t.countTime,value:t.sevenDayAverageSuccessCountByHour,rate:t.sevenDayAverageSuccessRateByHour})})),this.todayCallCount=t.totalTodayCallCount||0,this.todayErrorCount=t.totalTodayErrorCount||0}else this.todayCallCount=0,this.todayErrorCount=0}}},h=u,d=a("2877"),f=Object(d["a"])(h,n,r,!1,null,null,null);e["default"]=f.exports},5856:function(t,e,a){"use strict";var n=a("0014"),r=a.n(n);r.a},"7fd9":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticStyle:{height:"100%"}},[a("div",{staticClass:"chart-header",attrs:{slot:"header"},slot:"header"},[a("strong",{staticClass:"chart-title"},[t._v("● "+t._s(t.chartTitle))]),a("div",{staticClass:"aside-count"},[a("span",[t._v("今日新增： "+t._s(t.todaySaveCount)+"人")])])]),"{}"===JSON.stringify(t.chartData)?a("div",{style:{height:t.height+"px",textAlign:"center",lineHeight:t.height+"px"}},[t._v("\n    暂无数据\n  ")]):a("v-chart",{attrs:{forceFit:!0,height:t.height,data:t.data,scale:t.scale}},[a("v-tooltip",{attrs:{htmlContent:t.htmlContent}}),a("v-axis",{attrs:{dataKey:"time",label:t.label}}),a("v-legend"),a("v-line",{attrs:{position:"time*value",size:2,color:t.color}}),a("v-area",{attrs:{position:"time*value",color:t.color}})],1)],1)},r=[],i=(a("6762"),a("2fdb"),a("c5f6"),a("ac6a"),a("75fc")),o=a("a48e"),c=[{dataKey:"time",type:"linear",tickInterval:2,min:0,max:24}],s=["type",["rgba(201, 224, 255, 0.71)","rgba(174, 255, 221, 0.63)"]],l=Object(i["a"])(Array(24).keys()),u={name:"increased-user-chart",mixins:[o["default"]],props:{chartData:{type:Object},chartTitle:{type:String}},data:function(){var t=this;return{todaySaveCount:0,data:[],scale:c,color:s,label:{formatter:function(t){return t+"h"}},htmlContent:function(e){var a=t.data.filter((function(t){return t.time===Number(e)})),n="";return a.forEach((function(t,e){n+="<li data-index=".concat(e,' style="margin-bottom: 4px;">\n                      <span style="background-color:').concat(s[1][e],';width:8px;height:8px;border-radius:50%;display:inline-block;margin-right:8px;"></span>\n                      ').concat("今日"===t.type?"当日":"七日","新增数: ").concat(t.value,"\n                    </li>")})),'<div class="g2-tooltip">\n                  <ul class="g2-tooltip-list">\n                    '.concat(n,"\n                  </ul>\n                </div>")}}},watch:{chartData:{immediate:!0,handler:function(t){this.initChart(t)}}},methods:{initChart:function(t){var e=this;if("{}"!==JSON.stringify(t)){var a=t.sevenDayOutList.map((function(t){return t.countTime})),n=t.todayOutList.map((function(t){return t.countTime}));l.forEach((function(e,r){a.includes(e)||t.sevenDayOutList.push({countTime:r,sevenDayAverageSaveCountByHour:0}),n.includes(e)||t.todayOutList.push({countTime:r,todaySaveCount:0})})),this.data=[],t.todayOutList.forEach((function(t){e.data.push({type:"今日",time:t.countTime,value:t.todaySaveCount})})),t.sevenDayOutList.forEach((function(t){e.data.push({type:"七日平均",time:t.countTime,value:t.sevenDayAverageSaveCountByHour})})),this.todaySaveCount=t.totalTodaySaveCount||0}else this.todaySaveCount=0}}},h=u,d=a("2877"),f=Object(d["a"])(h,n,r,!1,null,null,null);e["default"]=f.exports},9406:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container dashboard-container"},t._l(t.charts,(function(e){return a("div",{key:e.name,staticClass:"dashboard-block animated zoomIn"},[e.data?a(e.name,{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],tag:"component",attrs:{chartData:e.data,chartTitle:e.title}}):t._e()],1)})),0)},r=[],i=(a("ac6a"),a("5df3"),a("7f7f"),a("a16d")),o=a("d155"),c=a("2c57"),s=a("7fd9"),l={name:"dashboard",components:{RuleChart:i["default"],ScorecardChart:o["default"],ProductCallChart:c["default"],IncreasedUserChart:s["default"]},data:function(){return{searchOptions:{merchantNo:"",productCode:"",timeRange:[]},charts:[{title:"豆瓣图书TOP10",name:"rule-chart",methods:"getRuleChart"},{title:"百度/谷歌用户比",name:"scorecard-chart",methods:"getScorecardChart"},{title:"各时段/商户/产品调用量成功数值",name:"product-call-chart",methods:"getProductCallChart"},{title:"各时段/商户新增用户数量",name:"increased-user-chart",methods:"getIncreasedUserChart"}],isLoading:!0}},methods:{getChartData:function(){var t=this;function e(t){var e=this.searchOptions.merchantNo,a=this.searchOptions.productCode,n=this.searchOptions.timeRange?this.searchOptions.timeRange[0]:"",r=this.searchOptions.timeRange?this.searchOptions.timeRange[1]:"";switch(t){case"rule-chart":case"scorecard-chart":return{merchantNo:e,productCode:a,startTime:n,endTime:r};case"product-call-chart":return{merchantNo:e,productCode:a};case"increased-user-chart":return{merchantNo:e}}}function a(){var t=this;return this.charts.map((function(a){return t.$api.chart[a.methods](e.call(t,a.name))}))}this.isLoading=!0,Promise.all(a.call(this)).then((function(e){e.forEach((function(e,a){t.$set(t.charts[a],"data",e)})),t.isLoading=!1})).catch((function(e){t.$message.error(e.message||"请求失败")}))}},created:function(){this.getChartData()}},u=l,h=(a("5856"),a("2877")),d=Object(h["a"])(u,n,r,!1,null,"6e4b6862",null);e["default"]=d.exports},a16d:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticStyle:{height:"100%"}},[a("div",{staticClass:"chart-header",attrs:{slot:"header"},slot:"header"},[a("strong",{staticClass:"chart-title"},[t._v("● "+t._s(t.chartTitle))]),a("div",{staticClass:"aside-count"},[a("span",[t._v("总点赞数： "+t._s(t.totalSuccess)+"次")]),a("span",[t._v("总评论数： "+t._s(t.totalReject)+"次")])])]),"{}"===JSON.stringify(t.chartData)?a("div",{style:{height:t.height+"px",textAlign:"center",lineHeight:t.height+"px"}},[t._v("\n    暂无数据\n  ")]):a("v-chart",{attrs:{forceFit:!0,height:t.height,data:t.data,scale:t.scale}},[a("v-tooltip",{attrs:{htmlContent:t.htmlContent}}),a("v-axis",{attrs:{dataKey:"ruleName",tickLine:t.tickLine,label:{rotate:15}}}),a("v-interval",{attrs:{label:t.label,position:"ruleName*value",opacity:1,color:t.color}})],1)],1)},r=[],i=(a("a481"),a("c5f6"),a("ac6a"),a("a48e")),o=["rgba(255, 116, 108, .3)","rgba(255, 116, 108, 1)","rgba(255, 172, 104, .3)","rgba(255, 172, 104, 1)","rgba(255, 216, 106, .3)","rgba(255, 216, 106, 1)","rgba(186, 223, 85, .3)","rgba(186, 223, 85, 1)","rgba(43, 216, 194, .3)","rgba(43, 216, 194, 1)","rgba(128, 111, 235, .3)","rgba(128, 111, 235, 1)","rgba(87, 182, 255, .3)","rgba(87, 182, 255, 1)","rgba(45, 114, 255, .3)","rgba(45, 114, 255, 1)"],c={name:"rule-chart",mixins:[i["default"]],props:{chartData:{type:Object,default:function(){return{}}},chartTitle:{type:String}},data:function(){var t=this;return{totalSuccess:0,totalReject:0,data:[],tickLine:{alignWithLabel:!1,length:0},color:["color",function(t){return t}],scale:[{dataKey:"value",min:0,formatter:function(t){return t+"%"}}],label:["value*type",function(e,a){return"点赞数"===a?{position:"top",content:t.data.filter((function(t){return t.value===e}))[0]?t.data.filter((function(t){return t.value===e}))[0].count:0}:null},{offset:10}],htmlContent:function(e){var a=t.data.filter((function(t){return t.ruleName===e})),n="";return a.forEach((function(t,e){n+="<li data-index=".concat(e,' style="margin-bottom: 4px;">\n                      <span\n                        style="\n                          background-color:').concat(t.color,';\n                          width:8px;height:8px;border-radius:50%;display:inline-block;margin-right:8px;\n                        "\n                      >\n                      </span>\n                      ').concat(t.type,": ").concat(t.count," (").concat(t.value,"%)\n                    </li>")})),'<div class="g2-tooltip">\n                  <div class="g2-tooltip-title" style="margin-bottom: 4px; font-size: 14px">'.concat(e,'</div>\n                  <ul class="g2-tooltip-list">\n                    ').concat(n,"\n                  </ul>\n                </div>")}}},watch:{chartData:{immediate:!0,handler:function(t){this.initChart(t)}}},methods:{initChart:function(t){var e=this,a=0;this.data=[],t.outList&&t.outList.length&&t.outList.forEach((function(t){e.data.push({type:"点赞数",ruleName:t.ruleName,value:Number(t.rejectRate.replace("%","")),count:t.rejectTotalCount,color:o[a++]}),e.data.push({type:"评论数",ruleName:t.ruleName,value:Number(t.uniqueHitRate.replace("%","")),count:t.uniqueHitTotalCount,color:o[a++]})})),this.totalSuccess=t.ruleCheckTotalSuccessCount||0,this.totalReject=t.ruleCheckTotalRejectCount||0}}},s=c,l=a("2877"),u=Object(l["a"])(s,n,r,!1,null,null,null);e["default"]=u.exports},a48e:function(t,e,a){"use strict";a.r(e),e["default"]={data:function(){return{height:400}},methods:{changeChartsHeight:function(){this.height=document.querySelectorAll(".el-card")[0].offsetHeight-56-40}},mounted:function(){var t=this;window.addEventListener("resize",this.changeChartsHeight),this.changeChartsHeight(),this.$on("hook:beforeDestroy",(function(){window.removeEventListener("resize",t.changeChartsHeight)}))}}},d155:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticStyle:{height:"100%"}},[a("div",{staticClass:"chart-header",attrs:{slot:"header"},slot:"header"},[a("strong",{staticClass:"chart-title"},[t._v("● "+t._s(t.chartTitle))]),a("div",{staticClass:"aside-count"},[a("span",[t._v("平均： "+t._s(t.averageAge)+"岁")])])]),"{}"===JSON.stringify(t.chartData)?a("div",{style:{height:t.height+"px",textAlign:"center",lineHeight:t.height+"px"}},[t._v("\n    暂无数据\n  ")]):a("v-chart",{attrs:{"force-fit":t.forceFit,height:t.height,data:t.data,padding:[10,30,50,30]}},[a("v-tooltip",{attrs:{htmlContent:t.htmlContent}}),a("v-legend",{attrs:{"data-key":"scoreType"}}),a("v-facet",{attrs:{type:"rect",fields:t.facetFields,padding:t.facetPadding,"col-title":t.facetColTitle,views:t.facetViews}})],1)],1)},r=[],i=(a("7f7f"),a("456d"),a("ac6a"),a("a48e")),o=a("40ba"),c=o.DataView,s={totalInterval1:{score:"0-10岁",color:"rgba(255, 119, 112, 1)"},totalInterval2:{score:"11-20岁",color:"rgba(255, 216, 106, 1)"},totalInterval3:{score:"21-30岁",color:"rgba(43, 216, 194, 1)"},totalInterval4:{score:"31-50岁",color:"rgba(45, 114, 255, 1)"},totalInterval5:{score:"50岁以上",color:"rgba(128, 111, 235, 1)"}},l=function(t,e){var a=e.data,n=new c;return n.source(a).transform({type:"percent",field:"value",dimension:"scoreType",as:"percent"}),{data:n,scale:{dataKey:"percent",formatter:".2%"},coord:{type:"theta",innerRadius:.6},series:{quickType:"stackBar",position:"percent",color:["scoreType",function(t){var e="";return Object.keys(s).forEach((function(a){s[a].score===t&&(e=s[a].color)})),e}],label:["percent",{}],style:{lineWidth:1,stroke:"#fff"}}}},u={name:"scorecard-chart",mixins:[i["default"]],props:{chartData:{type:Object,default:function(){return{}}},chartTitle:{type:String}},data:function(){return{averageAge:0,forceFit:!0,data:[],facetViews:l,facetFields:["versionType"],facetPadding:60,facetColTitle:{offsetY:-50,style:{fontSize:16,textAlign:"center",fill:"#333"}},htmlContent:function(t,e){var a=e[0],n="";return n+="<li data-index=".concat(a.point.point.i,' style="margin-bottom: 4px;">\n                    <span style="\n                      background-color:').concat(a.color,';\n                      width:8px;height:8px;border-radius:50%;display:inline-block;margin-right:8px;">\n                    </span>\n                    ').concat(a.name,": ").concat(a.point.point.value," (").concat(a.value,")\n                  </li>"),'<div class="g2-tooltip">\n                  <ul class="g2-tooltip-list">\n                    '.concat(n,"\n                  </ul>\n                </div>")}}},watch:{chartData:{immediate:!0,handler:function(t){this.initChart(t)}}},methods:{initChart:function(t){var e=this;this.data=[],t.outList&&t.outList.length&&t.outList.forEach((function(t){Object.keys(t).forEach((function(a,n){if("scorecardVersion"===a)return!1;e.data.push({versionType:t["scorecardVersion"],scoreType:s[a].score,value:t[a],i:n})}))})),this.averageAge=t.averageAge||0}}},h=u,d=a("2877"),f=Object(d["a"])(h,n,r,!1,null,null,null);e["default"]=f.exports}}]);