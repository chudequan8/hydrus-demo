(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1676fb16","chunk-2d208356"],{"2c57":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticStyle:{height:"100%"}},[a("div",{staticClass:"chart-header",attrs:{slot:"header"},slot:"header"},[a("strong",{staticClass:"chart-title"},[t._v("● "+t._s(t.chartTitle))]),a("div",{staticClass:"aside-count"},[a("span",[t._v("今日调用： "+t._s(t.todayCallCount)+"次")]),a("span",[t._v("今日异常： "+t._s(t.todayErrorCount)+"次")])])]),"{}"===JSON.stringify(t.chartData)?a("div",{style:{height:t.height+"px",textAlign:"center",lineHeight:t.height+"px"}},[t._v("\n    暂无数据\n  ")]):a("v-chart",{attrs:{forceFit:!0,height:t.height,data:t.data,scale:t.scale}},[a("v-tooltip",{attrs:{htmlContent:t.htmlContent}}),a("v-axis",{attrs:{dataKey:"time",label:t.label}}),a("v-legend"),a("v-line",{attrs:{position:"time*value",size:2,color:t.color}}),a("v-area",{attrs:{position:"time*value",color:t.color}}),a("v-guide",{attrs:{type:"line",top:!0,start:t.start,end:t.end,lineStyle:t.lineStyle,text:t.text}})],1)],1)},i=[],o=(a("6762"),a("2fdb"),a("c5f6"),a("ac6a"),a("75fc")),s=a("a48e"),r=[{dataKey:"time",type:"linear",tickInterval:2,min:0,max:24}],c=["type",["rgba(201, 224, 255, 0.71)","rgba(174, 255, 221, 0.63)"]],u=Object(o["a"])(Array(24).keys()),l={name:"product-call-chart",mixins:[s["default"]],props:{chartData:{type:Object},chartTitle:{type:String}},data:function(){var t=this;return{data:[],todayCallCount:0,todayErrorCount:0,scale:r,color:c,label:{formatter:function(t){return t+"h"}},htmlContent:function(e){var a=t.data.filter((function(t){return t.time===Number(e)})),n="";return a.forEach((function(t,e){n+="<li data-index=".concat(e,' style="margin-bottom: 4px;">\n                      <span style="background-color:').concat(c[1][e],';width:8px;height:8px;border-radius:50%;display:inline-block;margin-right:8px;"></span>\n                      ').concat("今日"===t.type?"当日":"七日","成功数: ").concat(t.value," (").concat(t.rate,")\n                    </li>")})),'<div class="g2-tooltip">\n                  <ul class="g2-tooltip-list">\n                    '.concat(n,"\n                  </ul>\n                </div>")},lineStyle:{stroke:"#595959",lineWidth:1,lineDash:[3,3]},start:["0",9],end:["24",9],text:{position:"start",style:{fill:"#8c8c8c",fontSize:12,fontWeight:300},content:"均值线 5,396万",offsetY:-5}}},watch:{chartData:{immediate:!0,handler:function(t){this.initChart(t)}}},methods:{initChart:function(t){var e=this;if("{}"!==JSON.stringify(t)){this.start[1]=t.sevenDayAverageSuccessCount,this.end[1]=t.sevenDayAverageSuccessCount,this.text.content="七日平均值"+t.sevenDayAverageSuccessCount;var a=t.sevenDayOutList.map((function(t){return t.countTime})),n=t.todayOutList.map((function(t){return t.countTime}));u.forEach((function(e,i){a.includes(e)||t.sevenDayOutList.push({countTime:i,sevenDayAverageSuccessCountByHour:0,sevenDayAverageSuccessRateByHour:"0%"}),n.includes(e)||t.todayOutList.push({countTime:i,todaySuccessCount:0,todaySuccessRate:"0%"})})),this.data=[],t.todayOutList.forEach((function(t){e.data.push({type:"今日",time:t.countTime,value:t.todaySuccessCount,rate:t.todaySuccessRate})})),t.sevenDayOutList.forEach((function(t){e.data.push({type:"七日平均",time:t.countTime,value:t.sevenDayAverageSuccessCountByHour,rate:t.sevenDayAverageSuccessRateByHour})})),this.todayCallCount=t.totalTodayCallCount||0,this.todayErrorCount=t.totalTodayErrorCount||0}else this.todayCallCount=0,this.todayErrorCount=0}}},h=l,d=a("2877"),y=Object(d["a"])(h,n,i,!1,null,null,null);e["default"]=y.exports},a48e:function(t,e,a){"use strict";a.r(e),e["default"]={data:function(){return{height:400}},methods:{changeChartsHeight:function(){this.height=document.querySelectorAll(".el-card")[0].offsetHeight-56-40}},mounted:function(){var t=this;window.addEventListener("resize",this.changeChartsHeight),this.changeChartsHeight(),this.$on("hook:beforeDestroy",(function(){window.removeEventListener("resize",t.changeChartsHeight)}))}}}}]);